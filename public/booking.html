<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover, user-scalable=no">
  <title>‡∏à‡∏≠‡∏á‡∏Ñ‡∏¥‡∏ß‡∏ï‡∏¥‡∏î‡∏ü‡∏¥‡∏•‡πå‡∏° | YuJin Film Solution</title>
  <meta name="description" content="‡∏à‡∏≠‡∏á‡∏Ñ‡∏¥‡∏ß‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡∏ü‡∏¥‡∏•‡πå‡∏°‡∏Å‡∏£‡∏≠‡∏á‡πÅ‡∏™‡∏á‡∏£‡∏ñ‡∏¢‡∏ô‡∏ï‡πå ‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡∏ñ‡∏∂‡∏á‡∏ö‡πâ‡∏≤‡∏ô ‡∏™‡∏∞‡∏î‡∏ß‡∏Å ‡∏£‡∏ß‡∏î‡πÄ‡∏£‡πá‡∏ß">
  
  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Prompt:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  
  <!-- Icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  
  <!-- Flatpickr for Date Picker -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/themes/material_blue.css">
  
  <!-- Booking Styles -->
  <link rel="stylesheet" href="../src/css/pages/booking-styles.css">
</head>
<body>
  <div class="booking-container">
    <!-- Header -->
    <div class="booking-header">
      <button class="back-btn" id="backButton" onclick="window.redirectToHome ? window.redirectToHome() : (window.location.href = 'index.html')">
        <i class="fas fa-arrow-left"></i>
      </button>
      <h1>‡∏à‡∏≠‡∏á‡∏Ñ‡∏¥‡∏ß‡∏ï‡∏¥‡∏î‡∏ü‡∏¥‡∏•‡πå‡∏°</h1>
      <p>‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡∏ñ‡∏∂‡∏á‡∏ö‡πâ‡∏≤‡∏ô ‡∏™‡∏∞‡∏î‡∏ß‡∏Å ‡∏£‡∏ß‡∏î‡πÄ‡∏£‡πá‡∏ß</p>
    </div>

    <!-- Progress Steps -->
    <div class="progress-steps">
      <div class="step active" data-step="1">
        <div class="step-circle">1</div>
        <div class="step-label">‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£</div>
      </div>
      <div class="step" data-step="2">
        <div class="step-circle">2</div>
        <div class="step-label">‡∏ß‡∏±‡∏ô‡πÄ‡∏ß‡∏•‡∏≤</div>
      </div>
      <div class="step" data-step="3">
        <div class="step-circle">3</div>
        <div class="step-label">‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</div>
      </div>
      <div class="step" data-step="4">
        <div class="step-circle">4</div>
        <div class="step-label">‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô</div>
      </div>
    </div>

    <!-- Form -->
    <form id="bookingForm">
      <!-- Step 1: Service Selection -->
      <div class="form-section active" data-section="1">
        <div class="form-card">
          <h2 class="section-title">
            <i class="fas fa-car"></i>
            ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£
          </h2>
          
          <div class="form-group">
            <label class="form-label">‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£ <span class="required">*</span></label>
            <div class="service-options">
              <div class="service-option" data-service="car">
                <div class="service-name">‡∏ü‡∏¥‡∏•‡πå‡∏°‡∏£‡∏ñ‡∏¢‡∏ô‡∏ï‡πå</div>
                <div class="service-desc">‡∏ï‡∏¥‡∏î‡∏ü‡∏¥‡∏•‡πå‡∏°‡∏Å‡∏£‡∏≠‡∏á‡πÅ‡∏™‡∏á‡∏£‡∏ñ‡∏¢‡∏ô‡∏ï‡πå‡∏ó‡∏∏‡∏Å‡∏£‡∏∏‡πà‡∏ô</div>
              </div>
              <div class="service-option" data-service="building">
                <div class="service-name">‡∏ü‡∏¥‡∏•‡πå‡∏°‡∏ö‡πâ‡∏≤‡∏ô/‡∏≠‡∏≤‡∏Ñ‡∏≤‡∏£</div>
                <div class="service-desc">‡∏ï‡∏¥‡∏î‡∏ü‡∏¥‡∏•‡πå‡∏°‡∏Å‡∏£‡∏∞‡∏à‡∏Å‡∏ö‡πâ‡∏≤‡∏ô‡πÅ‡∏•‡∏∞‡∏≠‡∏≤‡∏Ñ‡∏≤‡∏£</div>
              </div>
            </div>
            <div class="error-message">‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£</div>
          </div>

          <div class="form-group" id="carSection" style="display: none;">
            <label class="form-label">‡∏¢‡∏µ‡πà‡∏´‡πâ‡∏≠‡∏£‡∏ñ <span class="required">*</span></label>
            <div class="car-brands">
              <div class="car-brand" data-brand="Toyota">Toyota</div>
              <div class="car-brand" data-brand="Honda">Honda</div>
              <div class="car-brand" data-brand="Mazda">Mazda</div>
              <div class="car-brand" data-brand="Nissan">Nissan</div>
              <div class="car-brand" data-brand="BMW">BMW</div>
              <div class="car-brand" data-brand="Mercedes">Mercedes</div>
              <div class="car-brand" data-brand="Tesla">Tesla</div>
              <div class="car-brand" data-brand="BYD">BYD</div>
              <div class="car-brand" data-brand="MG">MG</div>
              <div class="car-brand" data-brand="GWM">GWM</div>
              <div class="car-brand" data-brand="Neta">Neta</div>
              <div class="car-brand" data-brand="Other">‡∏≠‡∏∑‡πà‡∏ô‡πÜ</div>
            </div>
            
            <!-- Custom brand input for "Other" option -->
            <div class="form-group" id="customBrandSection" style="display: none;">
              <label class="form-label">‡∏£‡∏∞‡∏ö‡∏∏‡∏¢‡∏µ‡πà‡∏´‡πâ‡∏≠‡∏£‡∏ñ <span class="required">*</span></label>
              <input type="text" class="form-input" id="customBrand" placeholder="‡∏Å‡∏£‡∏≠‡∏Å‡∏¢‡∏µ‡πà‡∏´‡πâ‡∏≠‡∏£‡∏ñ">
              <div class="error-message">‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏£‡∏∞‡∏ö‡∏∏‡∏¢‡∏µ‡πà‡∏´‡πâ‡∏≠‡∏£‡∏ñ</div>
            </div>
            
            <label class="form-label" style="margin-top: 16px;">‡∏£‡∏∏‡πà‡∏ô‡∏£‡∏ñ <span class="required">*</span></label>
            <input type="text" class="form-input" id="carModel" placeholder="‡πÄ‡∏ä‡πà‡∏ô Civic, Camry, Model 3">
            <div class="error-message">‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏£‡∏∏‡πà‡∏ô‡∏£‡∏ñ</div>
          </div>

          <div class="form-group">
            <label class="form-label">‡πÄ‡∏ö‡∏≠‡∏£‡πå‡∏ü‡∏¥‡∏•‡πå‡∏° <span class="required">*</span></label>
            <div class="service-options">
              <div class="service-option" data-film="40">
                <div class="service-name">40%</div>
                <div class="service-desc">‡∏Å‡∏£‡∏≠‡∏á‡πÅ‡∏™‡∏á 60% ‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏Å‡∏±‡∏ö‡∏Å‡∏£‡∏∞‡∏à‡∏Å‡∏î‡πâ‡∏≤‡∏ô‡∏´‡∏ô‡πâ‡∏≤</div>
              </div>
              <div class="service-option" data-film="60">
                <div class="service-name">60%</div>
                <div class="service-desc">‡∏Å‡∏£‡∏≠‡∏á‡πÅ‡∏™‡∏á 40% ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏Ç‡πâ‡∏°‡∏õ‡∏≤‡∏ô‡∏Å‡∏•‡∏≤‡∏á</div>
              </div>
              <div class="service-option" data-film="80">
                <div class="service-name">80%</div>
                <div class="service-desc">‡∏Å‡∏£‡∏≠‡∏á‡πÅ‡∏™‡∏á 20% ‡πÄ‡∏Ç‡πâ‡∏°‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏Å‡∏±‡∏ö‡∏î‡πâ‡∏≤‡∏ô‡∏´‡∏•‡∏±‡∏á</div>
              </div>
            </div>
            <div class="error-message">‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏ö‡∏≠‡∏£‡πå‡∏ü‡∏¥‡∏•‡πå‡∏°</div>
          </div>

          <!-- Building/Home Image Upload Section -->
          <div class="form-group" id="buildingImageSection" style="display: none;">
            <label class="form-label">‡∏≠‡∏±‡∏û‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏´‡∏ô‡πâ‡∏≤‡∏ï‡πà‡∏≤‡∏á/‡∏Å‡∏£‡∏∞‡∏à‡∏Å</label>
            <p class="upload-desc">‡∏≠‡∏±‡∏û‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏Ç‡∏≠‡∏á‡∏´‡∏ô‡πâ‡∏≤‡∏ï‡πà‡∏≤‡∏á‡∏´‡∏£‡∏∑‡∏≠‡∏Å‡∏£‡∏∞‡∏à‡∏Å‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ü‡∏¥‡∏•‡πå‡∏° ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡πÄ‡∏£‡∏≤‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡∏£‡∏≤‡∏Ñ‡∏≤‡πÑ‡∏î‡πâ‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥‡∏Ç‡∏∂‡πâ‡∏ô</p>
            
            <div class="image-upload-container">
              <div class="upload-area" id="uploadArea">
                <div class="upload-icon">
                  <i class="fas fa-cloud-upload-alt"></i>
                </div>
                <div class="upload-text">
                  <span class="upload-main-text">‡∏Ñ‡∏•‡∏¥‡∏Å‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û</span>
                  <span class="upload-sub-text">‡∏´‡∏£‡∏∑‡∏≠‡∏•‡∏≤‡∏Å‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏°‡∏≤‡∏ß‡∏≤‡∏á‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà</span>
                </div>
                <input type="file" id="buildingImages" name="buildingImages[]" multiple accept="image/*" style="display: none;">
              </div>
              
              <div class="uploaded-images" id="uploadedImages" style="display: none;">
                <div class="images-grid" id="imagesGrid"></div>
                <button type="button" class="add-more-btn" onclick="document.getElementById('buildingImages').click()">
                  <i class="fas fa-plus"></i>
                  ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û
                </button>
              </div>
            </div>
            
            <div class="upload-info">
              <small>
                <i class="fas fa-info-circle"></i>
                ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡πÑ‡∏ü‡∏•‡πå JPG, PNG ‡∏Ç‡∏ô‡∏≤‡∏î‡πÑ‡∏°‡πà‡πÄ‡∏Å‡∏¥‡∏ô 5MB ‡∏ï‡πà‡∏≠‡πÑ‡∏ü‡∏•‡πå (‡∏≠‡∏±‡∏û‡πÇ‡∏´‡∏•‡∏î‡πÑ‡∏î‡πâ‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î 5 ‡∏£‡∏π‡∏õ)
              </small>
            </div>
          </div>

          <!-- Free Services Section -->
          <div class="form-group">
            <h3 class="free-services-title">
              <i class="fas fa-gift"></i>
              ‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡∏ü‡∏£‡∏µ
            </h3>
            <div class="free-services-list">
              <div class="free-service-item">
                <div class="service-check">‚úì</div>
                <div class="service-text">‡∏•‡∏≠‡∏Å‡∏ü‡∏¥‡∏•‡πå‡∏°‡πÄ‡∏Å‡πà‡∏≤</div>
              </div>
              <div class="free-service-item">
                <div class="service-check">‚úì</div>
                <div class="service-text">‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡∏´‡∏•‡∏±‡∏á‡∏Å‡∏≤‡∏£‡∏Ç‡∏≤‡∏¢</div>
              </div>
              <div class="free-service-item">
                <div class="service-check">‚úì</div>
                <div class="service-text">‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∞‡∏Å‡∏±‡∏ô‡∏ó‡∏∏‡∏Å‡∏ü‡∏¥‡∏•‡πå‡∏° ‡∏ó‡∏∏‡∏Å‡∏¢‡∏µ‡πà‡∏´‡πâ‡∏≠</div>
              </div>
            </div>
          </div>

          <div class="form-group">
            <label class="form-label">‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡πÄ‡∏™‡∏£‡∏¥‡∏°</label>
            <div class="addon-list">
              <div class="addon-item" data-addon="insurance" data-price="2500">
                <div class="addon-checkbox"></div>
                <div class="addon-info">
                  <div class="addon-name">‡∏ï‡πà‡∏≠‡∏õ‡∏£‡∏∞‡∏Å‡∏±‡∏ô‡∏£‡∏ñ‡∏¢‡∏ô‡∏ï‡πå‡∏£‡∏≤‡∏Ñ‡∏≤‡∏™‡∏∏‡∏î‡∏Ñ‡∏∏‡πâ‡∏°</div>
                  <div class="addon-price">‡∏¢‡∏π‡∏à‡∏¥‡∏ô‡∏à‡∏∞‡∏£‡∏µ‡∏ö‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡∏≥‡πÄ‡∏™‡∏ô‡∏≠‡∏£‡∏≤‡∏Ñ‡∏≤‡πÉ‡∏´‡πâ‡∏ô‡∏∞‡∏Ñ‡∏∞</div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Step 2: Date & Time -->
      <div class="form-section" data-section="2">
        <div class="form-card">
          <h2 class="section-title">
            <i class="fas fa-calendar"></i>
            ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ß‡∏±‡∏ô‡πÅ‡∏•‡∏∞‡πÄ‡∏ß‡∏•‡∏≤
          </h2>
          
          <div class="form-group">
            <label class="form-label">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà <span class="required">*</span></label>
            <div class="calendar-header">
              <div class="month-year" id="currentMonth">‡∏°‡∏Å‡∏£‡∏≤‡∏Ñ‡∏° 2025</div>
              <div class="calendar-nav">
                <button type="button" onclick="changeMonth(-1)">
                  <i class="fas fa-chevron-left"></i>
                </button>
                <button type="button" onclick="changeMonth(1)">
                  <i class="fas fa-chevron-right"></i>
                </button>
              </div>
            </div>
            <div class="calendar-grid" id="calendarGrid">
              <!-- Calendar will be generated here -->
            </div>
            <input type="hidden" id="selectedDate" name="date">
            <div class="error-message">‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà</div>
          </div>

          <div class="form-group">
            <label class="form-label">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏ß‡∏•‡∏≤ <span class="required">*</span></label>
            <div class="time-slots">
              <div class="time-slot" data-time="07:00">
                <div class="slot-time">07:00</div>
                <div class="slot-status">‡∏ß‡πà‡∏≤‡∏á</div>
              </div>
              <div class="time-slot" data-time="08:00">
                <div class="slot-time">08:00</div>
                <div class="slot-status">‡∏ß‡πà‡∏≤‡∏á</div>
              </div>
              <div class="time-slot" data-time="09:00">
                <div class="slot-time">09:00</div>
                <div class="slot-status">‡∏ß‡πà‡∏≤‡∏á</div>
              </div>
              <div class="time-slot" data-time="10:00">
                <div class="slot-time">10:00</div>
                <div class="slot-status">‡∏ß‡πà‡∏≤‡∏á</div>
              </div>
              <div class="time-slot" data-time="11:00">
                <div class="slot-time">11:00</div>
                <div class="slot-status">‡∏ß‡πà‡∏≤‡∏á</div>
              </div>
              <div class="time-slot" data-time="13:00">
                <div class="slot-time">13:00</div>
                <div class="slot-status">‡∏ß‡πà‡∏≤‡∏á</div>
              </div>
              <div class="time-slot" data-time="14:00">
                <div class="slot-time">14:00</div>
                <div class="slot-status">‡∏ß‡πà‡∏≤‡∏á</div>
              </div>
              <div class="time-slot" data-time="15:00">
                <div class="slot-time">15:00</div>
                <div class="slot-status">‡∏ß‡πà‡∏≤‡∏á</div>
              </div>
              <div class="time-slot" data-time="16:00">
                <div class="slot-time">16:00</div>
                <div class="slot-status">‡∏ß‡πà‡∏≤‡∏á</div>
              </div>
              <div class="time-slot" data-time="17:00">
                <div class="slot-time">17:00</div>
                <div class="slot-status">‡∏ß‡πà‡∏≤‡∏á</div>
              </div>
            </div>
            <input type="hidden" id="selectedTime" name="time">
            <div class="error-message">‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏ß‡∏•‡∏≤</div>
          </div>
        </div>
      </div>

      <!-- Step 3: Customer Information -->
      <div class="form-section" data-section="3">
        <div class="form-card">
          <h2 class="section-title">
            <i class="fas fa-user"></i>
            ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠
          </h2>
          
          <div class="form-group">
            <label class="form-label">‡∏ä‡∏∑‡πà‡∏≠-‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏• <span class="required">*</span></label>
            <input type="text" class="form-input" id="customerName" name="name" placeholder="‡∏Å‡∏£‡∏≠‡∏Å‡∏ä‡∏∑‡πà‡∏≠-‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•">
            <div class="error-message">‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏ä‡∏∑‡πà‡∏≠-‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•</div>
          </div>

          <div class="form-group">
            <label class="form-label">‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£‡∏®‡∏±‡∏û‡∏ó‡πå <span class="required">*</span></label>
            <input type="tel" class="form-input" id="customerPhone" name="phone" placeholder="08x-xxx-xxxx" maxlength="10">
            <div class="error-message">‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£‡∏®‡∏±‡∏û‡∏ó‡πå‡πÉ‡∏´‡πâ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á</div>
          </div>

          <div class="form-group">
            <label class="form-label">‡∏≠‡∏µ‡πÄ‡∏°‡∏• <span class="required">*</span></label>
            <input type="email" class="form-input" id="customerEmail" name="email" placeholder="your@email.com" required>
            <div class="error-message">‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏≠‡∏µ‡πÄ‡∏°‡∏•‡πÉ‡∏´‡πâ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á</div>
          </div>

          <div class="form-group">
            <label class="form-label">Line ID</label>
            <input type="text" class="form-input" id="customerLine" name="line" placeholder="Line ID (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ)">
          </div>
        </div>

        <div class="form-card">
          <h2 class="section-title">
            <i class="fas fa-map-marker-alt"></i>
            ‡∏™‡∏ñ‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á
          </h2>
          
          <div class="form-group">
            <label class="form-label">‡∏õ‡∏±‡∏Å‡∏´‡∏°‡∏∏‡∏î‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á <span class="required">*</span></label>
            <div class="map-container">
              <div class="map-search">
                <input type="text" id="searchAddress" placeholder="‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏™‡∏ñ‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏´‡∏£‡∏∑‡∏≠‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà">
              </div>
              <div id="map"></div>
              <button type="button" class="current-location-btn" onclick="getCurrentLocation()">
                <i class="fas fa-location-crosshairs"></i>
              </button>
            </div>
            <input type="hidden" id="latitude" name="latitude">
            <input type="hidden" id="longitude" name="longitude">
            
            <!-- LatLong Display -->
            <div class="form-group" id="latLongDisplay" style="display: none;">
              <label class="form-label">‡∏û‡∏¥‡∏Å‡∏±‡∏î (LatLng)</label>
              <input type="text" class="form-input" id="latLongText" placeholder="‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏õ‡∏±‡∏Å‡∏´‡∏°‡∏∏‡∏î" readonly>
            </div>
            
            <div class="error-message">‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏õ‡∏±‡∏Å‡∏´‡∏°‡∏∏‡∏î‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏ö‡∏ô‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà</div>
          </div>

          <div class="form-group">
            <label class="form-label">‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°</label>
            <input type="text" class="form-input" id="addressDetail" name="addressDetail" placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡∏ö‡πâ‡∏≤‡∏ô‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà ‡∏ã‡∏≠‡∏¢ ‡∏´‡∏°‡∏π‡πà‡∏ö‡πâ‡∏≤‡∏ô">
          </div>

          <div class="form-group">
            <label class="form-label">‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏</label>
            <input type="text" class="form-input" id="customerNote" name="note" placeholder="‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏° (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ)">
          </div>
        </div>
      </div>

      <!-- Step 4: Confirmation -->
      <div class="form-section" data-section="4">
        <div class="summary-card">
          <h3 class="summary-title">‡∏™‡∏£‡∏∏‡∏õ‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á</h3>
          
          <div class="summary-item">
            <span class="summary-label">‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£:</span>
            <span class="summary-value" id="summaryService">-</span>
          </div>
          
          <div class="summary-item">
            <span class="summary-label">‡∏£‡∏ñ:</span>
            <span class="summary-value" id="summaryVehicle">-</span>
          </div>
          
          <div class="summary-item">
            <span class="summary-label">‡πÄ‡∏ö‡∏≠‡∏£‡πå‡∏ü‡∏¥‡∏•‡πå‡∏°:</span>
            <span class="summary-value" id="summaryFilm">-</span>
          </div>
          
          <div class="summary-item">
            <span class="summary-label">‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà:</span>
            <span class="summary-value" id="summaryDate">-</span>
          </div>
          
          <div class="summary-item">
            <span class="summary-label">‡πÄ‡∏ß‡∏•‡∏≤:</span>
            <span class="summary-value" id="summaryTime">-</span>
          </div>
          
          <div class="summary-item">
            <span class="summary-label">‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡πÄ‡∏™‡∏£‡∏¥‡∏°:</span>
            <span class="summary-value" id="summaryAddons">-</span>
          </div>
          
          <div class="summary-divider"></div>
          
          <div class="summary-total">
            <span>‡∏£‡∏≤‡∏Ñ‡∏≤‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì‡∏Å‡∏≤‡∏£:</span>
            <span id="summaryTotal">‡∏ø5,500</span>
          </div>
        </div>

        <div class="form-card">
          <h2 class="section-title">
            <i class="fas fa-user-check"></i>
            ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ú‡∏π‡πâ‡∏à‡∏≠‡∏á
          </h2>
          
          <div class="summary-item">
            <span class="summary-label">‡∏ä‡∏∑‡πà‡∏≠:</span>
            <span class="summary-value" id="summaryCustomer">-</span>
          </div>
          
          <div class="summary-item">
            <span class="summary-label">‡πÇ‡∏ó‡∏£:</span>
            <span class="summary-value" id="summaryPhone">-</span>
          </div>
          
          <div class="summary-item">
            <span class="summary-label">‡∏≠‡∏µ‡πÄ‡∏°‡∏•:</span>
            <span class="summary-value" id="summaryEmail">-</span>
          </div>
          
          <div class="summary-item">
            <span class="summary-label">‡∏™‡∏ñ‡∏≤‡∏ô‡∏ó‡∏µ‡πà:</span>
            <span class="summary-value" id="summaryLocation">-</span>
          </div>
        </div>

        <div class="form-card" style="background: #fef3c7; border: 2px solid #fbbf24;">
          <p style="color: #92400e; font-size: 14px; line-height: 1.6;">
            <strong>‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏:</strong> ‡∏£‡∏≤‡∏Ñ‡∏≤‡πÄ‡∏õ‡πá‡∏ô‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì‡∏Å‡∏≤‡∏£‡πÄ‡∏ö‡∏∑‡πâ‡∏≠‡∏á‡∏ï‡πâ‡∏ô ‡∏£‡∏≤‡∏Ñ‡∏≤‡∏à‡∏£‡∏¥‡∏á‡∏≠‡∏≤‡∏à‡∏õ‡∏£‡∏±‡∏ö‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏ï‡∏≤‡∏°‡∏Ç‡∏ô‡∏≤‡∏î‡πÅ‡∏•‡∏∞‡∏£‡∏∏‡πà‡∏ô‡∏£‡∏ñ ‡∏ó‡∏≤‡∏á‡πÄ‡∏£‡∏≤‡∏à‡∏∞‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡∏Å‡∏•‡∏±‡∏ö‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏£‡∏≤‡∏Ñ‡∏≤‡πÅ‡∏•‡∏∞‡∏ô‡∏±‡∏î‡∏´‡∏°‡∏≤‡∏¢‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á
          </p>
        </div>
      </div>
    </form>

    <!-- Navigation -->
    <div class="form-navigation">
      <button type="button" class="nav-btn btn-prev" id="prevBtn" style="display: none;">
        <i class="fas fa-arrow-left"></i>
        ‡∏¢‡πâ‡∏≠‡∏ô‡∏Å‡∏•‡∏±‡∏ö
      </button>
      <button type="button" class="nav-btn btn-next" id="nextBtn">
        ‡∏ñ‡∏±‡∏î‡πÑ‡∏õ
        <i class="fas fa-arrow-right"></i>
      </button>
    </div>
  </div>

  <!-- Success Modal -->
  <div class="success-modal" id="successModal">
    <div class="success-content">
      <div class="success-icon">
        <i class="fas fa-check"></i>
      </div>
      <h2 class="success-title">‡∏à‡∏≠‡∏á‡∏Ñ‡∏¥‡∏ß‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!</h2>
      <p class="success-message">
        ‡πÄ‡∏£‡∏≤‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß<br>
        ‡∏ó‡∏µ‡∏°‡∏á‡∏≤‡∏ô‡∏à‡∏∞‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡∏Å‡∏•‡∏±‡∏ö‡∏†‡∏≤‡∏¢‡πÉ‡∏ô 15 ‡∏ô‡∏≤‡∏ó‡∏µ
      </p>
      
      <div class="success-details">
        <div class="detail-item">
          <span class="detail-label">‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏•‡∏Ç‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á:</span>
          <span class="detail-value" id="bookingNumber">BK2025010001</span>
        </div>
        <div class="detail-item">
          <span class="detail-label">‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏à‡∏≠‡∏á:</span>
          <span class="detail-value" id="bookingDate">-</span>
        </div>
        <div class="detail-item">
          <span class="detail-label">‡πÄ‡∏ß‡∏•‡∏≤:</span>
          <span class="detail-value" id="bookingTime">-</span>
        </div>
      </div>
      
      <div class="success-actions">
        <button class="success-btn btn-home" onclick="window.location.href='index.html'">
          ‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å
        </button>
        <button class="success-btn btn-line" onclick="window.open('https://lin.ee/jxXqHfI', '_blank')">
          ‡πÅ‡∏ä‡∏ó‡∏ú‡πà‡∏≤‡∏ô LINE
        </button>
      </div>
    </div>
  </div>

  <!-- Loading -->
  <div class="loading-overlay" id="loadingOverlay">
    <div class="loading-spinner"></div>
  </div>

  <!-- Scripts -->
  <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
  <script src="https://cdn.jsdelivr.net/npm/flatpickr/dist/l10n/th.js"></script>
  
  <!-- Google Maps will be initialized by google-maps.js -->
  
  <!-- Define initMap before loading Google Maps API -->
  <script>
    // Global initMap function MUST be defined before API loads
    window.initMap = function() {
      console.log('üó∫Ô∏è Google Maps API callback triggered');
      console.log('üìä Google API status:', typeof google !== 'undefined' ? 'Available' : 'Not available');
      console.log('üìä Maps API status:', typeof google !== 'undefined' && google.maps ? 'Available' : 'Not available');
      console.log('üìä Places API status:', typeof google !== 'undefined' && google.maps && google.maps.places ? 'Available' : 'Not available');
      
      if (!window.googleMapsService) {
        console.log('üèóÔ∏è Creating new GoogleMapsService instance');
        window.googleMapsService = new GoogleMapsService();
      } else {
        console.log('‚ôªÔ∏è Using existing GoogleMapsService instance');
      }
      
      console.log('üöÄ Calling googleMapsService.init()...');
      window.googleMapsService.init();
    };
    
    // Backup function for getting current location
    window.getCurrentLocation = function() {
      if (window.googleMapsService) {
        window.googleMapsService.getCurrentLocation();
      } else {
        console.warn('‚ö†Ô∏è Google Maps service not initialized');
      }
    };
    
    console.log('‚úÖ initMap function defined globally');
  </script>
  
  <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyB1buHQFd88w-OtwjU8xUJeMbR7XDPGyy8&libraries=places&callback=initMap"></script>
  
  <!-- Firebase SDK -->
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>
  
  <!-- YuJin Modular Scripts -->
  <script src="../src/js/utils/common.js"></script>
  <script src="../src/js/services/firebase.js"></script>
  <script src="../src/js/services/tracking.js"></script>
  <script src="../src/js/services/availability.js"></script>
  <script src="../src/js/services/google-maps.js"></script>
  <script src="../src/js/features/booking/form-handler.js"></script>
  <script src="../src/js/features/booking/booking-form.js"></script>
  <script src="../src/js/features/booking/booking-summary.js"></script>
  <script src="../src/js/features/booking/image-upload.js"></script>
  <script src="../src/js/pages/booking.js"></script>
  
  <!-- Page Configuration -->
  <div id="page-config" style="display: none;"
     data-page="booking"
     data-version="2.0"
     data-timestamp="2025-01-09">
  </div>
  
  <!-- Immediate Functions -->
  <!-- Page initialization will be handled by booking.js -->
  
  <script>
    // Initialize booking page controllers when DOM is ready
    document.addEventListener('DOMContentLoaded', function() {
      console.log('üöÄ Initializing YuJin Booking Page Controllers...');
      
      // Initialize all controllers
      window.bookingFormController = new BookingFormController();
      window.bookingSummaryController = new BookingSummaryController();
      
      // Initialize Google Maps service (fallback if API callback fails)
      if (typeof window.initMap !== 'function') {
        console.warn('‚ö†Ô∏è initMap function not found, creating fallback...');
        window.initMap = function() {
          if (window.GoogleMapsService) {
            if (!window.googleMapsService) {
              window.googleMapsService = new GoogleMapsService();
            }
            window.googleMapsService.init();
          }
        };
      }
      
      // Try to initialize map after a short delay
      setTimeout(() => {
        if (!window.googleMapsService) {
          console.log('üó∫Ô∏è Attempting to initialize Google Maps...');
          if (typeof google !== 'undefined' && google.maps) {
            console.log('‚úÖ Google Maps API detected, calling initMap()');
            window.initMap();
          } else {
            console.warn('‚ö†Ô∏è Google Maps API not loaded, showing fallback');
            if (window.GoogleMapsService) {
              if (!window.googleMapsService) {
                window.googleMapsService = new GoogleMapsService();
              }
              window.googleMapsService.handleMapError();
            }
          }
        } else {
          console.log('‚úÖ Google Maps service already initialized');
        }
      }, 2000);
      
      // Additional fallback after longer delay
      setTimeout(() => {
        if (!window.googleMapsService && typeof google !== 'undefined' && google.maps) {
          console.log('üîÑ Second attempt to initialize Google Maps...');
          window.initMap();
        }
      }, 5000);
      
      console.log('‚úÖ All booking controllers initialized');
    });
  </script>
</body>
</html>
